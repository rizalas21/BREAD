<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> BREAD (Browse, Read, Edit, Add, Delete)</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/util.js"></script>
</head>
<body>
    <h2>SQLite BREAD(Browse, Read, Edit, Add, Delete)</h2>
 <!-- ini fitur search -->
    <form action="/" method="get" class="add-container" >
        <p>Name</p> <p>Height</p> <p>Weight</p> <p>Birthdate</p> <p>Married</p>
        <input type="text" class="add-box" name="name" placeholder="insert your name" value="<%= query.name %>" />
        <input type="number" class="add-box" name="height" placeholder="insert your height" value="<%= query.height %>" />
        <input type="number" step="0.0001" class="add-box" name = 'weight' placeholder="insert your weigth" value="<%= query.weight %>" />
        <input type="date" class="add-box" name = 'startdate' placeholder="yyyy/mm/dd" value="<%= query.startdate %>" />
        <input type="date" class="add-box" name = 'enddate' placeholder="yyyy/mm/dd" value="<%= query.enddate %>" />
        <select name="married" class="add-box" value="<%= query.married %>" >
            <option disabled selected>Have you Married?</option>
            <option value="true">Yes</option>
            <option value="false">Not Yet</option>
        </select>
        <button type="submit" class="add-submit">search</button>&nbsp;<a class="add-cancel" href="/" >reset</a>
    </form>
    <!-- search SELESAI -->
    <a href="/add" class="list-create">Create</a>
    <table>
        <thead>
            <tr>
                <th>No.</th>
                <th>Name</th>
                <th>Height</th>
                <th>Weight</th>
                <th>Birthdate</th>
                <th>Married</th>
                <th>Update</th>
            </tr>
        </thead>
        <tbody>
            <% data.forEach((siswa, index)=> { %>
                <tr>
                    <td><%= index + 1 %></td>
                    <td><%= siswa.name %></td>
                    <td><%= siswa.height %></td>
                    <td><%= siswa.weight %></td>
                    <td><%= siswa.birthdate %></td>
                    <td><%= siswa.married ? 'Yes': 'Not Yet'%></td>
                    <td><a href="/edit/<%= siswa.id %>">Update</a>&nbsp;<a href="/delete/<%= siswa.id %>" onclick="return confirmation()">Delete</a></td>
                </tr>
                <% }) %>    
        </tbody>
    </table>
</body>
</html>